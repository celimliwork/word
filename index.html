<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kelime Kartlarƒ± - √ñƒürenme Sistemi</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
                padding: 10px;
        }

        .container {
            max-width: 500px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }

        .header h1 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .controls {
            padding: 15px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }

        .control-group {
            margin-bottom: 15px;
        }

        .control-group:last-child {
            margin-bottom: 0;
        }

        .control-group label {
            display: block;
            font-size: 0.9rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }

        .control-group select,
        .control-group button {
            width: 100%;
            padding: 12px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 1rem;
            background: white;
            color: #333;
            cursor: pointer;
            transition: all 0.2s;
            font-family: inherit;
        }

        .control-group select:hover,
        .control-group button:hover {
            border-color: #667eea;
        }

        .control-group select:focus,
        .control-group button:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .cards-container {
            padding: 15px;
            min-height: 400px;
        }

        .word-card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            transition: all 0.3s;
            cursor: pointer;
            touch-action: manipulation;
            position: relative;
        }

        .word-card:active {
            transform: scale(0.98);
        }

        .word-card.revealed {
            border-color: #667eea;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
        }

        .card-field {
            margin-bottom: 12px;
        }

        .card-field:last-child {
            margin-bottom: 0;
        }

        .field-label {
                font-size: 0.75rem;
            font-weight: 600;
            color: #6c757d;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 4px;
        }

        .field-value {
            font-size: 1rem;
            color: #333;
            word-break: break-word;
            line-height: 1.5;
        }

        .field-value.hidden {
            color: #667eea;
            font-weight: 600;
            font-style: italic;
            opacity: 0.7;
        }

        .word-main {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
            padding-right: 80px;
        }

        .word-text {
            font-size: 1.5rem;
            font-weight: 700;
            color: #667eea;
        }

        .sound-btn {
            background: #667eea;
            color: white;
            border: none;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.2s;
            flex-shrink: 0;
        }

        .sound-btn:hover {
            background: #5568d3;
            transform: scale(1.1);
        }

        .sound-btn:active {
            transform: scale(0.95);
            }

            .pronunciation {
                font-size: 0.9rem;
            color: #6c757d;
            font-style: italic;
        }

        .type-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            position: absolute;
            top: 12px;
            right: 12px;
        }

        .type-Fiil {
            background: #e3f2fd;
            color: #1976d2;
        }

        .type-ƒ∞sim {
            background: #f3e5f5;
            color: #7b1fa2;
        }

        .type-Sƒ±fat {
            background: #fff3e0;
            color: #e65100;
        }

        .type-Zarf {
            background: #e8f5e9;
            color: #388e3c;
        }

        .type-Edat {
            background: #fce4ec;
            color: #c2185b;
        }

        .type-Phrasal {
            background: #fff9c4;
            color: #f57f17;
        }

        .type-ƒ∞fade {
            background: #ede7f6;
            color: #512da8;
        }

        .verb-forms {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 8px;
        }

        .verb-form-item {
            background: #f8f9fa;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 0.85rem;
        }

        .verb-form-label {
            font-weight: 600;
            color: #667eea;
            margin-right: 5px;
        }

        .examples-list {
            margin-top: 12px;
        }

        .example-item {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 3px solid #667eea;
        }

        .example-item:last-child {
            margin-bottom: 0;
        }

        .example-sentence {
            font-weight: 500;
            color: #333;
            margin-bottom: 6px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .example-meaning {
            color: #6c757d;
            font-size: 0.9rem;
            font-style: italic;
        }

        .pagination {
            padding: 15px;
            background: #f8f9fa;
            border-top: 1px solid #e9ecef;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        .pagination-info {
            font-size: 0.9rem;
            color: #6c757d;
        }

        .pagination-buttons {
            display: flex;
            gap: 8px;
        }

        .pagination-btn {
            padding: 8px 16px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            background: white;
            color: #333;
            cursor: pointer;
                font-size: 0.9rem;
            transition: all 0.2s;
            font-family: inherit;
        }

        .pagination-btn:hover:not(:disabled) {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }

        .pagination-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .stats {
            padding: 10px 15px;
            background: #f8f9fa;
            border-top: 1px solid #e9ecef;
            text-align: center;
            color: #6c757d;
                font-size: 0.85rem;
            }

        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #6c757d;
        }

        .empty-state-icon {
            font-size: 3rem;
            margin-bottom: 10px;
        }

        .empty-state-text {
            font-size: 1rem;
        }

        @media (max-width: 390px) {
            body {
                padding: 5px;
            }

            .container {
                border-radius: 12px;
            }

            .header {
                padding: 15px;
            }

            .header h1 {
                font-size: 1.25rem;
            }

            .word-card {
                padding: 15px;
            }

            .word-text {
                font-size: 1.3rem;
            }

            .field-value {
                font-size: 0.95rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìö Kelime Kartlarƒ±</h1>
            <p>ƒ∞ngilizce Kelime √ñƒürenme Sistemi</p>
        </div>

        <div class="controls">
            <div class="control-group">
                <label for="modeSelect">√ñƒürenme Modu</label>
                <select id="modeSelect">
                    <option value="full">Tam √ñƒürenme Modu</option>
                    <option value="en-tr">ƒ∞ngilizce ‚Üí T√ºrk√ße</option>
                    <option value="tr-en">T√ºrk√ße ‚Üí ƒ∞ngilizce</option>
                </select>
            </div>

            <div class="control-group">
                <label for="dateFilter">Tarih Filtresi</label>
                    <select id="dateFilter">
                        <option value="all">T√ºm√ºn√º G√∂ster</option>
                    <option value="today">Bug√ºn Eklenenler</option>
                    </select>
                </div>
            </div>

        <div class="cards-container" id="cardsContainer">
            <!-- Kartlar buraya eklenecek -->
        </div>

        <div class="pagination" id="pagination">
            <div class="pagination-info" id="paginationInfo"></div>
            <div class="pagination-buttons">
                <button class="pagination-btn" id="prevBtn">√ñnceki</button>
                <button class="pagination-btn" id="nextBtn">Sonraki</button>
            </div>
        </div>

        <div class="stats" id="stats"></div>
    </div>

    <script>
        // ==================== GLOBAL STATE ====================
        let wordsData = [];
        let filteredWordsData = [];
        let currentPage = 1;
        const CARDS_PER_PAGE = 20;
        let currentMode = 'full';
        let selectedDate = 'all';
        let longPressTimer = null;
        const LONG_PRESS_DURATION = 500;
        const STORAGE_KEY = 'wordCardAppState';

        // ==================== LOCALSTORAGE ====================
        function saveState() {
            const state = {
                currentMode: currentMode,
                selectedDate: selectedDate,
                currentPage: currentPage
            };
            try {
                localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
            } catch (error) {
                console.error('localStorage kayƒ±t hatasƒ±:', error);
            }
        }

        function loadState() {
            try {
                const savedState = localStorage.getItem(STORAGE_KEY);
                if (savedState) {
                    const state = JSON.parse(savedState);
                    if (state.currentMode) currentMode = state.currentMode;
                    if (state.selectedDate) selectedDate = state.selectedDate;
                    if (state.currentPage) currentPage = state.currentPage;
                }
            } catch (error) {
                console.error('localStorage y√ºkleme hatasƒ±:', error);
            }
        }

        // ==================== DATA LOADING ====================
        async function loadWords() {
            try {
                const response = await fetch('words.json');
                wordsData = await response.json();
                loadState(); // Kaydedilmi≈ü durumu y√ºkle
                initializeDateFilter();
                applyFilters();
                renderCards();
                updateStats();
            } catch (error) {
                console.error('Dosya y√ºklenirken hata:', error);
                document.getElementById('cardsContainer').innerHTML = 
                    '<div class="empty-state"><div class="empty-state-icon">‚ùå</div><div class="empty-state-text">Dosya y√ºklenirken bir hata olu≈ütu.</div></div>';
            }
        }

        // ==================== DATE FILTER ====================
        function initializeDateFilter() {
            const dateFilter = document.getElementById('dateFilter');
            const uniqueDates = [...new Set(wordsData.map(word => word.date).filter(date => date))].sort();
            
            // Bug√ºn√ºn tarihini al (DD.MM.YYYY formatƒ±nda)
            const today = new Date();
            const todayStr = `${String(today.getDate()).padStart(2, '0')}.${String(today.getMonth() + 1).padStart(2, '0')}.${today.getFullYear()}`;
            
            // Bug√ºn se√ßeneƒüini ekle
            const todayOption = document.createElement('option');
            todayOption.value = 'today';
            todayOption.textContent = `Bug√ºn (${todayStr})`;
            dateFilter.appendChild(todayOption);
            
            // Diƒüer tarihleri ekle
            uniqueDates.forEach(date => {
                if (date !== todayStr) {
                const option = document.createElement('option');
                option.value = date;
                option.textContent = date;
                dateFilter.appendChild(option);
                }
            });

            // Kaydedilmi≈ü deƒüeri se√ß
            dateFilter.value = selectedDate;

            dateFilter.addEventListener('change', (e) => {
                selectedDate = e.target.value;
                currentPage = 1;
                applyFilters();
                renderCards();
                updateStats();
                saveState(); // Durumu kaydet
            });
        }

        // ==================== MODE SELECTION ====================
        function initializeModeSelect() {
            const modeSelect = document.getElementById('modeSelect');
            
            // Kaydedilmi≈ü deƒüeri se√ß
            modeSelect.value = currentMode;
            
            modeSelect.addEventListener('change', (e) => {
                currentMode = e.target.value;
                currentPage = 1;
                renderCards();
                saveState(); // Durumu kaydet
            });
        }

        // ==================== FILTERING ====================
        function applyFilters() {
                filteredWordsData = [...wordsData];
            
            if (selectedDate === 'today') {
                const today = new Date();
                const todayStr = `${String(today.getDate()).padStart(2, '0')}.${String(today.getMonth() + 1).padStart(2, '0')}.${today.getFullYear()}`;
                filteredWordsData = filteredWordsData.filter(word => word.date === todayStr);
            } else if (selectedDate !== 'all') {
                filteredWordsData = filteredWordsData.filter(word => word.date === selectedDate);
            }
            
            // Sayfa numarasƒ±nƒ±n ge√ßerli olup olmadƒ±ƒüƒ±nƒ± kontrol et
            const totalPages = Math.ceil(filteredWordsData.length / CARDS_PER_PAGE);
            if (currentPage > totalPages && totalPages > 0) {
                currentPage = totalPages;
            } else if (currentPage < 1) {
                currentPage = 1;
            }
        }

        // ==================== CARD RENDERING ====================
        function renderCards() {
            const container = document.getElementById('cardsContainer');
            const startIndex = (currentPage - 1) * CARDS_PER_PAGE;
            const endIndex = startIndex + CARDS_PER_PAGE;
            const pageData = filteredWordsData.slice(startIndex, endIndex);

            if (pageData.length === 0) {
                container.innerHTML = '<div class="empty-state"><div class="empty-state-icon">üì≠</div><div class="empty-state-text">Bu filtreye uygun kelime bulunamadƒ±.</div></div>';
                return;
            }

            container.innerHTML = pageData.map(word => createCardHTML(word)).join('');
            
            // Event listener'larƒ± ekle
            attachCardListeners();
            updatePagination();
        }

        function createCardHTML(word) {
            const cardId = `card-${word.word.replace(/\s+/g, '-')}`;
            const typeClass = word.type ? word.type.replace(/\s+/g, '').replace(/[^a-zA-Z0-9]/g, '') : '';
            
            let cardHTML = `<div class="word-card" id="${cardId}" data-word="${word.word}">`;
            
            // Moda g√∂re i√ßerik
            if (currentMode === 'full') {
                cardHTML += createFullModeHTML(word, typeClass);
            } else if (currentMode === 'en-tr') {
                cardHTML += createEnTrModeHTML(word, typeClass);
            } else if (currentMode === 'tr-en') {
                cardHTML += createTrEnModeHTML(word, typeClass);
            }
            
            cardHTML += '</div>';
            return cardHTML;
        }

        function createFullModeHTML(word, typeClass) {
            let html = `
                ${word.type ? `<span class="type-badge type-${typeClass}">${word.type}</span>` : ''}
                <div class="card-field">
                    <div class="word-main">
                        <span class="word-text">${word.word || '-'}</span>
                        ${word.word ? `<button class="sound-btn" onclick="speakText('${word.word.replace(/'/g, "\\'")}')" title="Seslendir">üîä</button>` : ''}
                    </div>
                    ${word.pronunciation ? `<div class="pronunciation">${word.pronunciation}</div>` : ''}
                </div>
                
                ${word.meaning ? `<div class="card-field">
                    <div class="field-value">${word.meaning}</div>
                </div>` : ''}
            `;

            // Fiil formlarƒ±
            if (word.v2?.form || word.v3?.form || word.gerundInfinitive) {
                html += '<div class="card-field"><div class="verb-forms">';
                if (word.v2?.form) {
                    html += `<div class="verb-form-item"><span class="verb-form-label">V2:</span>${word.v2.form}${word.v2.pronunciation ? ` <span style="color: #6c757d; font-style: italic;">(${word.v2.pronunciation})</span>` : ''}</div>`;
                }
                if (word.v3?.form) {
                    html += `<div class="verb-form-item"><span class="verb-form-label">V3:</span>${word.v3.form}${word.v3.pronunciation ? ` <span style="color: #6c757d; font-style: italic;">(${word.v3.pronunciation})</span>` : ''}</div>`;
                }
                if (word.gerundInfinitive) {
                    html += `<div class="verb-form-item"><span class="verb-form-label">Gerund/Infinitive:</span>${word.gerundInfinitive}</div>`;
                }
                html += '</div></div>';
            }

            // √ñrnek c√ºmleler
            if (word.examples && word.examples.length > 0) {
                html += '<div class="card-field"><div class="examples-list">';
                word.examples.forEach(ex => {
                    html += `
                        <div class="example-item">
                            <div class="example-sentence">
                                ${ex.sentence || '-'}
                                ${ex.sentence ? `<button class="sound-btn" style="width: 28px; height: 28px; font-size: 1rem; margin-left: auto;" onclick="speakText('${(ex.sentence || '').replace(/'/g, "\\'")}')" title="Seslendir">üîä</button>` : ''}
                            </div>
                            <div class="example-meaning">${ex.meaning || '-'}</div>
                        </div>
                    `;
                });
                html += '</div></div>';
            }

            html += `<div class="card-field"><div class="field-label">Tarih</div><div class="field-value">${word.date || '-'}</div></div>`;
            
            return html;
        }

        function createEnTrModeHTML(word, typeClass) {
            let html = `
                ${word.type ? `<span class="type-badge type-${typeClass}">${word.type}</span>` : ''}
                <div class="card-field">
                    <div class="word-main">
                        <span class="word-text">${word.word || '-'}</span>
                        ${word.word ? `<button class="sound-btn" onclick="speakText('${word.word.replace(/'/g, "\\'")}')" title="Seslendir">üîä</button>` : ''}
                    </div>
                    ${word.pronunciation ? `<div class="pronunciation">${word.pronunciation}</div>` : ''}
                </div>
                
                <div class="card-field hidden-field" data-reveal="tr">
                    <div class="field-value hidden">G√∂ster</div>
                    <div class="field-value" style="display: none;">${word.meaning || '-'}</div>
                </div>
            `;

            // √ñrnek c√ºmleler
            if (word.examples && word.examples.length > 0) {
                html += '<div class="card-field"><div class="examples-list">';
                word.examples.forEach(ex => {
                    html += `
                        <div class="example-item">
                            <div class="example-sentence">
                                ${ex.sentence || '-'}
                                ${ex.sentence ? `<button class="sound-btn" style="width: 28px; height: 28px; font-size: 1rem; margin-left: auto;" onclick="speakText('${(ex.sentence || '').replace(/'/g, "\\'")}')" title="Seslendir">üîä</button>` : ''}
                            </div>
                            <div class="example-meaning hidden-field" data-reveal="tr">
                                <span class="field-value hidden">G√∂rmek i√ßin tƒ±klayƒ±n</span>
                                <span class="field-value" style="display: none;">${ex.meaning || '-'}</span>
                            </div>
                        </div>
                    `;
                });
                html += '</div></div>';
            }
            
            return html;
        }

        function createTrEnModeHTML(word, typeClass) {
            let html = `
                ${word.type ? `<span class="type-badge type-${typeClass} hidden-field" data-reveal="en" style="display: none;">${word.type}</span>` : ''}
                <div class="card-field hidden-field" data-reveal="en">
                    <div class="word-main">
                        <span class="word-text hidden">G√∂ster</span>
                        <span class="word-text" style="display: none;">${word.word || '-'}</span>
                        ${word.word ? `<button class="sound-btn" style="display: none;" onclick="speakText('${word.word.replace(/'/g, "\\'")}')" title="Seslendir">üîä</button>` : ''}
                    </div>
                    <div class="pronunciation" style="display: none;">${word.pronunciation || ''}</div>
                </div>
                
                <div class="card-field">
                    <div class="field-value">${word.meaning || '-'}</div>
                </div>
            `;

            // √ñrnek c√ºmleler
            if (word.examples && word.examples.length > 0) {
                html += '<div class="card-field"><div class="examples-list">';
                word.examples.forEach(ex => {
                    html += `
                        <div class="example-item">
                            <div class="example-sentence hidden-field" data-reveal="en">
                                <span class="hidden" style="display: inline;">G√∂rmek i√ßin tƒ±klayƒ±n</span>
                                <span class="hidden-content" style="display: none;">${ex.sentence || '-'}</span>
                                ${ex.sentence ? `<button class="sound-btn hidden-content" style="width: 28px; height: 28px; font-size: 1rem; margin-left: auto; display: none;" onclick="speakText('${(ex.sentence || '').replace(/'/g, "\\'")}')" title="Seslendir">üîä</button>` : ''}
                            </div>
                            <div class="example-meaning">${ex.meaning || '-'}</div>
                        </div>
                    `;
                });
                html += '</div></div>';
            }
            
            return html;
        }

        // ==================== CARD INTERACTIONS ====================
        function attachCardListeners() {
            const cards = document.querySelectorAll('.word-card');
            cards.forEach(card => {
                // Tap/Click
                card.addEventListener('click', (e) => {
                    if (e.target.classList.contains('sound-btn')) return;
                    revealHiddenFields(card);
                });

                // Long press
                card.addEventListener('touchstart', (e) => {
                    if (e.target.classList.contains('sound-btn')) return;
                    longPressTimer = setTimeout(() => {
                        revealHiddenFields(card);
                    }, LONG_PRESS_DURATION);
                });

                card.addEventListener('touchend', () => {
                    if (longPressTimer) {
                        clearTimeout(longPressTimer);
                        longPressTimer = null;
                    }
                });

                card.addEventListener('touchcancel', () => {
                    if (longPressTimer) {
                        clearTimeout(longPressTimer);
                        longPressTimer = null;
                    }
                });

                // Mouse long press (desktop)
                card.addEventListener('mousedown', (e) => {
                    if (e.target.classList.contains('sound-btn')) return;
                    longPressTimer = setTimeout(() => {
                        revealHiddenFields(card);
                    }, LONG_PRESS_DURATION);
                });

                card.addEventListener('mouseup', () => {
                    if (longPressTimer) {
                        clearTimeout(longPressTimer);
                        longPressTimer = null;
                    }
                });

                card.addEventListener('mouseleave', () => {
                    if (longPressTimer) {
                        clearTimeout(longPressTimer);
                        longPressTimer = null;
                    }
                });
            });
        }

        function revealHiddenFields(card) {
            card.classList.add('revealed');
            const hiddenFields = card.querySelectorAll('.hidden-field');
            hiddenFields.forEach(field => {
                // Gizli placeholder'larƒ± gizle
                const hiddenElements = field.querySelectorAll('.hidden');
                hiddenElements.forEach(el => el.style.display = 'none');
                
                // Gizli i√ßerikleri g√∂ster (hidden-content class'ƒ± veya display: none olanlar)
                const hiddenContent = field.querySelectorAll('.hidden-content');
                hiddenContent.forEach(el => {
                    el.style.display = '';
                });
                
                // T√ºm gizli elementleri bul ve g√∂ster (display: none olanlar, hidden class'ƒ± olmayanlar)
                const allElements = field.querySelectorAll('*');
                allElements.forEach(el => {
                    if (el.style.display === 'none' && !el.classList.contains('hidden')) {
                        // Eƒüer button ise inline-flex, span ise inline, diƒüerleri i√ßin uygun display
                        if (el.classList.contains('sound-btn')) {
                            el.style.display = 'flex';
                        } else if (el.tagName === 'SPAN' || el.tagName === 'DIV') {
                            el.style.display = '';
                        } else {
                            el.style.display = '';
                        }
                    }
                });
                
                // Field'ƒ±n kendisi gizliyse g√∂ster
                if (field.style.display === 'none') {
                    field.style.display = '';
                }
            });
        }

        // ==================== SPEECH API ====================
        function speakText(text) {
            if (!text || text === '-') return;
            
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'en-US';
                utterance.rate = 0.9;
                utterance.pitch = 1;
                window.speechSynthesis.speak(utterance);
            } else {
                alert('Tarayƒ±cƒ±nƒ±z seslendirme √∂zelliƒüini desteklemiyor.');
            }
        }

        // ==================== PAGINATION ====================
        function updatePagination() {
            const totalPages = Math.ceil(filteredWordsData.length / CARDS_PER_PAGE);
            const startIndex = (currentPage - 1) * CARDS_PER_PAGE + 1;
            const endIndex = Math.min(currentPage * CARDS_PER_PAGE, filteredWordsData.length);
            
            document.getElementById('paginationInfo').textContent = 
                `Sayfa ${currentPage} / ${totalPages} (${startIndex}-${endIndex} / ${filteredWordsData.length})`;
            
            document.getElementById('prevBtn').disabled = currentPage === 1;
            document.getElementById('nextBtn').disabled = currentPage >= totalPages;
        }

        function initializePagination() {
            document.getElementById('prevBtn').addEventListener('click', () => {
                if (currentPage > 1) {
                    currentPage--;
                    renderCards();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    saveState(); // Durumu kaydet
                }
            });

            document.getElementById('nextBtn').addEventListener('click', () => {
                const totalPages = Math.ceil(filteredWordsData.length / CARDS_PER_PAGE);
                if (currentPage < totalPages) {
                    currentPage++;
                    renderCards();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    saveState(); // Durumu kaydet
                }
            });
        }

        // ==================== STATS ====================
        function updateStats() {
            const statsDiv = document.getElementById('stats');
            const totalWords = wordsData.length;
            const filteredCount = filteredWordsData.length;
            
            let statsText = `Toplam ${totalWords} kelime`;
            if (selectedDate !== 'all') {
                statsText += ` | Filtrelenmi≈ü: ${filteredCount} kelime`;
            } else {
                statsText += ` | G√∂sterilen: ${filteredCount} kelime`;
            }
            
            statsDiv.textContent = statsText;
        }

        // ==================== INITIALIZATION ====================
        function init() {
            initializeModeSelect();
            initializePagination();
        loadWords();
        }

        // Sayfa y√ºklendiƒüinde ba≈ülat
        init();
    </script>
</body>
</html>
